<!DOCTYPE html>
<!-- saved from url=(0127)https://cdn-uploads.piazza.com/paste/l76wwm4ld4a5j5/15dd13fc34eb48cd65ee7f05e56e8997ec3547c0cd250ebf8caa46763d2ff3d1/index.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


    <link rel="stylesheet" href="./index_files/leaflet.css" integrity="sha256-sA+zWATbFveLLNqWO2gtiw3HL/lh1giY/Inf1BJ0z14=" crossorigin="">
    <script src="./index_files/leaflet.js.download" integrity="sha256-o9N1jGDZrf5tS+Ft4gbIK7mYMipq9lqpVJ91xHSyKhg=" crossorigin=""></script>
    <script src="./index_files/d3.v7.min.js.download"></script>
    <script src="./index_files/colorbrewer.v1.min.js.download"></script>

    <style>

        #plot {
            position: absolute;
            width: 90%;
            height: 100%;
        }

    </style>

</head>
<body>
    <div id="plot">
        <script>
          const margin = ({top: 10, right: 20, bottom: 50, left: 105});
          const visWidth = 500;
          const visHeight = 400;
          const svg = d3.select("#plot")
            .append("svg")
              .attr('width', visWidth + margin.left + margin.right)
              .attr('height', visHeight + margin.top + margin.bottom)
            .append("g")
              .attr("transform",
                  "translate(" + margin.left + "," + margin.top + ")");
          
          const colors = [d3.schemeDark2[0],d3.schemeDark2[1],d3.schemeDark2[2],d3.schemeDark2[3]]
            
            d3.csv("https://raw.githubusercontent.com/uic-vis/project-3-data-goblins/main/cleanData.csv").then(function(data){

            xZip = d3.scaleLinear()
                .domain(d3.extent(crashData, d => d.zip)).nice()
                .range([0, visWidth])
                
            yAge = d3.scaleLinear()
                .domain(d3.extent(crashData, d => d.age)).nice()
                .range([visHeight, 0])
                
            g.append("g").call(xAxis, xZip, 'Zipcode');
            g.append("g").call(yAxis, yAge, 'Age');

            // draw points
            const dots = g.selectAll('circle')
                .data(crashData)//.filter(d => d.zipOrigins))
                .join('circle')
                .attr('cx', d => xZip(d.zip))
                .attr('cy', d => yAge(d.age))
                .attr("r", d => 1)
                .attr('fill', d => zipColor(d.zip))
                .attr('opacity', 1)

        </script>
    
    </div>
    

</body></html>
